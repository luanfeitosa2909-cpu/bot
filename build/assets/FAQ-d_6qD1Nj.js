import{j as e,S as l,C as p,e as h,a as j,b as g}from"./index-D5VgfkZI.js";import{r as t}from"./react-vendor-CoRTCUxX.js";import{H as N,F as y}from"./Footer-DE8fib7i.js";import{I as A}from"./input-DvOT9P8s.js";import{A as k,a as F,b as E,c as I}from"./accordion-BP7uFLRN.js";import{S as L}from"./search-Cd9vgS7m.js";import"./router-vendor-BLkE0Fw5.js";import"./user-ClgHmQx_.js";import"./index-B_zAUROT.js";import"./chevron-down-43DSN_aw.js";const G=()=>{const[n,d]=t.useState([]),[b,v]=t.useState(!0),[m,C]=t.useState(""),[i,w]=t.useState("all");t.useEffect(()=>{let s=!0;async function a(){const o=["/data/faqs.json","/data/faq.json"];for(const r of o)try{const c=await fetch(r);if(!c.ok||!(c.headers.get("content-type")||"").includes("application/json"))continue;const f=await c.json();s&&d(Array.isArray(f)?f:[]);return}catch{}try{const r=await fetch("/api/faqs");if(r.ok&&(r.headers.get("content-type")||"").includes("application/json")){const x=await r.json();s&&d(Array.isArray(x)?x:[]);return}}catch{}s&&d([])}return a().finally(()=>{s&&v(!1)}),()=>{s=!1}},[]);const q=t.useMemo(()=>{const s=new Set(n.map(a=>a.category).filter(Boolean));return["all",...Array.from(s)]},[n]),S=t.useMemo(()=>{const s={};return n.forEach(a=>{const o=a.category||"Geral";s[o]=(s[o]||0)+1}),s},[n]),u=t.useMemo(()=>n.filter(s=>{const a=m.trim().toLowerCase(),o=!a||s.question.toLowerCase().includes(a)||s.answer.toLowerCase().includes(a),r=i==="all"||s.category===i;return o&&r}),[n,m,i]);return b?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(N,{}),e.jsxs("main",{className:"container py-8",children:[e.jsx(l,{className:"h-12 w-48 mb-6"}),e.jsx(l,{className:"h-8 w-full mb-4"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(l,{className:"h-24 w-full"}),e.jsx(l,{className:"h-24 w-full"})]})]}),e.jsx(y,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(N,{}),e.jsxs("main",{className:"container py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Perguntas Frequentes"}),e.jsx("p",{className:"text-muted-foreground mt-2 max-w-2xl mx-auto",children:"Encontre respostas rápidas para as dúvidas mais comuns da comunidade."})]}),e.jsxs("div",{className:"mb-6 grid gap-4 md:grid-cols-3 items-center",children:[e.jsxs("div",{className:"md:col-span-2 relative",children:[e.jsx(L,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(A,{value:m,onChange:s=>C(s.target.value),placeholder:"Pesquisar pergunta ou resposta...",className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("label",{className:"text-sm text-muted-foreground mr-2",children:"Categoria:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:q.map(s=>e.jsxs("button",{onClick:()=>w(s),className:`px-3 py-1 rounded-full text-sm border ${i===s?"bg-primary text-primary-foreground border-primary":"bg-muted/10 border-border"}`,children:[s==="all"?"Todas":s," ",s!=="all"&&e.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",S[s]||0,")"]})]},s))})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3 text-sm text-muted-foreground",children:["Mostrando ",e.jsx("span",{className:"font-semibold text-primary",children:u.length})," de ",e.jsx("span",{className:"font-semibold",children:n.length})," perguntas"]}),u.length===0?e.jsx(p,{className:"glass-card p-6 text-center",children:e.jsx(h,{children:"Nenhuma pergunta encontrada para os filtros aplicados."})}):e.jsx(k,{type:"single",collapsible:!0,children:u.map(s=>e.jsxs(F,{value:`faq-${s.id}`,children:[e.jsx(E,{children:s.question}),e.jsx(I,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s.answer})})]},s.id))})]}),e.jsxs("div",{children:[e.jsxs(p,{className:"glass-card",children:[e.jsx(j,{children:e.jsx(g,{children:"Dicas Rápidas"})}),e.jsx(h,{children:e.jsxs("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-2",children:[e.jsx("li",{children:"Use a busca para localizar termos específicos."}),e.jsx("li",{children:"Verifique a categoria para filtrar por assunto."}),e.jsx("li",{children:"Se não encontrar, use o formulário em Contato."})]})})]}),e.jsxs(p,{className:"glass-card mt-4",children:[e.jsx(j,{children:e.jsx(g,{children:"Precisa de ajuda ainda?"})}),e.jsxs(h,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Se não encontrou a resposta, entre em contato via formulário ou inicie um chat com o suporte."}),e.jsx("a",{href:"/contact",className:"inline-block text-primary hover:underline",children:"Ir para Contato"})]})]})]})]})]}),e.jsx(y,{})]})};export{G as default};
