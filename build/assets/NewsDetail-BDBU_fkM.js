import{c as p,j as e,S as c,B as l,C as n,e as o,a as k,b as C}from"./index-D5VgfkZI.js";import{b as F,u as U,L as S}from"./router-vendor-BLkE0Fw5.js";import{r}from"./react-vendor-CoRTCUxX.js";import{B as I}from"./badge-B_Kj0s6v.js";import{H as u,F as j}from"./Footer-DE8fib7i.js";import{A as L,S as x}from"./separator-CbRWdVV3.js";import{A as Y,a as Z,b as G}from"./avatar-CM6BsUSu.js";import{T as J}from"./tag-CHP1f2z2.js";import{E as z}from"./eye-CGvAEGPG.js";import{C as K}from"./calendar-DBRRU35f.js";import{C as A}from"./clock-elt3ntNZ.js";import{H as O}from"./heart-CpK5bYu9.js";import{C as Q}from"./chevron-right-w14bfyYo.js";import{M as W}from"./message-circle-Ct-0YLL8.js";import{C as X}from"./chevron-up-DzPW7xfo.js";import"./user-ClgHmQx_.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=p("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=p("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=p("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),fe=()=>{var b,w,y;const{id:i}=F(),N=U(),[a,E]=r.useState(null),[d,B]=r.useState([]),[D,f]=r.useState(!0),[m,T]=r.useState(!1),[g,H]=r.useState(0),[M,$]=r.useState(0);r.useEffect(()=>{fetch("/api/news").then(s=>s.json()).then(s=>{B(s);const t=s.find(h=>h.id===Number(i));t&&(E({...t,content:t.content||`${t.summary}

Conte√∫do detalhado sobre ${t.title}. Esta not√≠cia traz informa√ß√µes importantes para a comunidade de sim racing.`}),H((t.views||0)+1)),f(!1)}).catch(s=>{console.error("Failed to fetch news:",s),f(!1)})},[i]),r.useEffect(()=>{const s=()=>{const t=document.documentElement.scrollHeight-window.innerHeight,h=window.scrollY,q=t>0?h/t*100:0;$(q)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const v=r.useMemo(()=>a?d.filter(s=>s.id!==Number(i)&&s.category===a.category).slice(0,3):[],[d,a,i]),P=r.useMemo(()=>a?d.filter(s=>s.id!==Number(i)).sort((s,t)=>(t.views||0)-(s.views||0)).slice(0,5):[],[d,a,i]),R=()=>{T(!m)},V=()=>{const s=window.location.href;navigator.share?navigator.share({title:a==null?void 0:a.title,text:`Confira: ${a==null?void 0:a.title}`,url:s}):(navigator.clipboard.writeText(s),alert("Link copiado para a √°rea de transfer√™ncia!"))};return D?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(u,{}),e.jsxs("main",{className:"container py-8",children:[e.jsx(c,{className:"h-12 w-32 mb-6"}),e.jsx(c,{className:"h-64 w-full mb-6 rounded-lg"}),e.jsx(c,{className:"h-8 w-full mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"h-4 w-full"}),e.jsx(c,{className:"h-4 w-full"}),e.jsx(c,{className:"h-4 w-3/4"})]})]}),e.jsx(j,{})]}):a?e.jsxs("div",{className:"min-h-screen bg-background relative",children:[e.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-primary z-50",style:{width:`${M}%`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-secondary/5 pointer-events-none"}),e.jsx(u,{}),e.jsxs("main",{className:"container py-8 relative z-10",children:[e.jsxs(l,{variant:"ghost",onClick:()=>N("/news"),className:"mb-6 animate-fade-in",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Voltar para Not√≠cias"]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6 animate-fade-in",style:{animationDelay:"0.1s"},children:[e.jsxs(n,{className:"glass-card overflow-hidden",children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden bg-muted",children:[a.image&&e.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsxs(I,{className:"bg-primary text-primary-foreground",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),a.category]})}),e.jsxs("div",{className:"absolute top-4 right-4 bg-black/40 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[e.jsx(z,{className:"h-4 w-4"}),g," visualiza√ß√µes"]})]}),e.jsxs(o,{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 leading-tight",children:a.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-muted-foreground mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4"}),new Date(a.date).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"~",Math.ceil((((b=a.content)==null?void 0:b.split(" ").length)||100)/200)," min de leitura"]})]}),e.jsx("p",{className:"text-lg text-muted-foreground italic border-l-4 border-primary pl-4",children:a.summary})]}),e.jsx(x,{className:"my-8"}),e.jsx("div",{className:"prose prose-invert max-w-none mb-8",children:e.jsx("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:a.content.split(`

`).map((s,t)=>e.jsx("p",{className:"text-base",children:s},t))})}),e.jsx(x,{className:"my-8"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 py-4",children:[e.jsxs(l,{variant:m?"default":"outline",size:"sm",onClick:R,className:"gap-2",children:[e.jsx(O,{className:`h-4 w-4 ${m?"fill-current":""}`}),m?"Curtido":"Curtir"]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:V,className:"gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),"Compartilhar"]}),e.jsxs(l,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(_,{className:"h-4 w-4"}),"Salvar"]})]})]})]}),v.length>0&&e.jsxs(n,{className:"glass-card animate-fade-in",style:{animationDelay:"0.2s"},children:[e.jsx(k,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Leia Tamb√©m"]})}),e.jsx(o,{className:"space-y-4",children:v.map(s=>e.jsxs(S,{to:`/news/${s.id}`,className:"block p-3 rounded-lg hover:bg-muted/50 transition-colors group border border-transparent hover:border-primary/30",children:[e.jsx("h4",{className:"font-semibold group-hover:text-primary transition-colors line-clamp-2 mb-1",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.date).toLocaleDateString("pt-BR")})]},s.id))})]})]}),e.jsxs("div",{className:"space-y-6 animate-fade-in",style:{animationDelay:"0.15s"},children:[e.jsx(n,{className:"glass-card",children:e.jsxs(o,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs(Y,{className:"h-16 w-16",children:[e.jsx(Z,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${a.author}`}),e.jsx(G,{children:(w=a.author)==null?void 0:w.substring(0,2).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:a.author||"BSR Admin"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Autor"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Profissional de sim racing com experi√™ncia em conte√∫do e jornalismo."}),e.jsxs(l,{size:"sm",variant:"outline",className:"w-full",children:[e.jsx(W,{className:"h-3 w-3 mr-2"}),"Seguir"]})]})}),e.jsx(n,{className:"glass-card",children:e.jsxs(o,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(z,{className:"h-4 w-4"}),"Visualiza√ß√µes"]}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:g})]}),e.jsx(x,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(se,{className:"h-4 w-4"}),"Curtidas"]}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:m?"1":"0"})]}),e.jsx(x,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(A,{className:"h-4 w-4"}),"Leitura"]}),e.jsxs("div",{className:"text-sm font-medium",children:[Math.ceil((((y=a.content)==null?void 0:y.split(" ").length)||100)/200)," min"]})]})]})}),e.jsxs(n,{className:"glass-card",children:[e.jsx(k,{children:e.jsx(C,{className:"text-lg",children:"Em Tend√™ncia"})}),e.jsx(o,{className:"space-y-3",children:P.map((s,t)=>e.jsx(S,{to:`/news/${s.id}`,className:"block p-3 rounded-lg hover:bg-muted/50 transition-colors group",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"text-sm font-bold text-primary w-6 flex-shrink-0",children:["#",t+1]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm group-hover:text-primary transition-colors line-clamp-2",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(s.date).toLocaleDateString("pt-BR")})]})]})},s.id))})]}),e.jsx(n,{className:"glass-card border-primary/50 bg-primary/5",children:e.jsxs(o,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"üìß Newsletter"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Receba as melhores not√≠cias direto no seu e-mail"}),e.jsx(l,{size:"sm",className:"w-full",children:"Inscrever"})]})}),e.jsxs(l,{variant:"outline",className:"w-full",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Voltar ao Topo"]})]})]})]}),e.jsx(j,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(u,{}),e.jsx("main",{className:"container py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üì∞"}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Not√≠cia n√£o encontrada"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"A not√≠cia que voc√™ procura n√£o existe ou foi removida."}),e.jsxs(l,{onClick:()=>N("/news"),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Voltar para Not√≠cias"]})]})}),e.jsx(j,{})]})};export{fe as default};
