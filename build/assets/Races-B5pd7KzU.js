import{c as I,j as e,S as r,C as u,e as j,B as T,X as z}from"./index-Bg84Z9Mq.js";import{r as l}from"./react-vendor-CoRTCUxX.js";import{B as V}from"./badge-tBdtZtNR.js";import{I as P}from"./input-CpxncAGW.js";import{H as D,F as L}from"./Footer-CVy8QyIC.js";import{R as H}from"./RaceCard-23BQXCm_.js";import{S as b,a as y,b as w,c as S,d as n}from"./select-r17lY8cm.js";import{T as U}from"./trophy-Dj84yLRY.js";import{U as $}from"./users-DJ4bN222.js";import{M as O}from"./map-pin-Dfm_KS63.js";import{C as X}from"./calendar-Dq3vT5nZ.js";import{S as _}from"./search-CWcOzX2y.js";import"./router-vendor-BLkE0Fw5.js";import"./user-DIh3-zlu.js";import"./clock-D9WJkygB.js";import"./index-BExf9Bkh.js";import"./index-BIcMawkr.js";import"./index-BsVOCjjE.js";import"./chevron-down-CtnHlP5K.js";import"./chevron-up-BF3bv7bF.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=I("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ue=()=>{const[i,M]=l.useState([]),[R,C]=l.useState(!0),[m,g]=l.useState(""),[d,f]=l.useState("all"),[c,N]=l.useState("all"),[x,v]=l.useState("all"),[G,J]=l.useState(!1);l.useEffect(()=>{fetch("/api/races").then(s=>s.json()).then(s=>{M(s),C(!1)}).catch(s=>{console.error("Failed to fetch races:",s),C(!1)})},[]);const A=l.useMemo(()=>{const s=new Set(i.map(a=>a.category).filter(Boolean));return Array.from(s).sort()},[i]),k=l.useMemo(()=>{const s=new Set(i.map(a=>a.championship).filter(Boolean));return Array.from(s).sort()},[i]),p=l.useMemo(()=>i.filter(s=>{const a=s.title.toLowerCase().includes(m.toLowerCase())||s.track.toLowerCase().includes(m.toLowerCase()),o=d==="all"||s.category===d,t=x==="all"||s.championship===x;let h=!0;if(c!=="all"){const B=new Date(s.date).getTime(),F=new Date().getTime();c==="upcoming"&&B<=F&&(h=!1),c==="completed"&&B>F&&(h=!1)}return a&&o&&t&&h}),[i,m,d,x,c]),E=l.useMemo(()=>{const s={};return p.forEach(a=>{const o=a.championship||"Sem Campeonato";s[o]||(s[o]=[]),s[o].push(a)}),s},[p]);return R?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(D,{}),e.jsxs("main",{className:"container py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(r,{className:"h-10 w-48 mb-2"}),e.jsx(r,{className:"h-4 w-96"})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((s,a)=>e.jsxs("div",{className:"glass-card overflow-hidden rounded-xl",children:[e.jsx(r,{className:"aspect-video w-full"}),e.jsxs("div",{className:"p-5",children:[e.jsx(r,{className:"h-6 w-full mb-2"}),e.jsx(r,{className:"h-4 w-3/4 mb-4"}),e.jsxs("div",{className:"mb-5 grid grid-cols-2 gap-3",children:[e.jsx(r,{className:"h-4 w-full"}),e.jsx(r,{className:"h-4 w-full"}),e.jsx(r,{className:"h-4 w-full"}),e.jsx(r,{className:"h-4 w-full"})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-border/50 pt-4",children:[e.jsx(r,{className:"h-4 w-20"}),e.jsx(r,{className:"h-8 w-24"})]})]})]},a))})]}),e.jsx(L,{})]}):e.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-secondary/5 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-accent/5 via-transparent to-primary/5 animate-pulse",style:{animationDelay:"1s"}}),e.jsx(D,{}),e.jsxs("main",{className:"container py-8 relative z-10",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsxs("h1",{className:"text-5xl font-bold mb-3 animate-fade-in",children:[e.jsx("span",{className:"text-primary",children:"ðŸ"})," Corridas Brasil Sim Racing"]}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-6 animate-fade-in",style:{animationDelay:"0.1s"},children:"Explore todas as corridas disponÃ­veis, filtre por categoria e inscreva-se nas suas favoritas"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto mb-8",children:[e.jsx(u,{className:"glass-card",children:e.jsxs(j,{className:"p-4",children:[e.jsx(U,{className:"h-5 w-5 text-yellow-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:i.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Corridas"})]})}),e.jsx(u,{className:"glass-card",children:e.jsxs(j,{className:"p-4",children:[e.jsx($,{className:"h-5 w-5 text-blue-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:i.reduce((s,a)=>s+a.pilots,0)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Inscritos"})]})}),e.jsx(u,{className:"glass-card",children:e.jsxs(j,{className:"p-4",children:[e.jsx(O,{className:"h-5 w-5 text-green-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:new Set(i.map(s=>s.track)).size}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Pistas"})]})}),e.jsx(u,{className:"glass-card",children:e.jsxs(j,{className:"p-4",children:[e.jsx(X,{className:"h-5 w-5 text-orange-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:k.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Campeonatos"})]})})]})]}),e.jsxs("div",{className:"mb-8 animate-fade-in",style:{animationDelay:"0.2s"},children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"Filtros & Busca"]}),(m||d!=="all"||c!=="all"||x!=="all")&&e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>{g(""),f("all"),N("all"),v("all")},className:"text-xs",children:[e.jsx(z,{className:"h-3 w-3 mr-1"}),"Limpar Filtros"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(P,{placeholder:"Buscar por corrida ou pista...",value:m,onChange:s=>g(s.target.value),className:"pl-10"})]}),e.jsxs(b,{value:d,onValueChange:f,children:[e.jsx(y,{children:e.jsx(w,{placeholder:"Categoria"})}),e.jsxs(S,{children:[e.jsx(n,{value:"all",children:"Todas as Categorias"}),A.map(s=>e.jsx(n,{value:s,children:s},s))]})]}),e.jsxs(b,{value:x,onValueChange:v,children:[e.jsx(y,{children:e.jsx(w,{placeholder:"Campeonato"})}),e.jsxs(S,{children:[e.jsx(n,{value:"all",children:"Todos os Campeonatos"}),k.map(s=>e.jsx(n,{value:s,children:s},s))]})]}),e.jsxs(b,{value:c,onValueChange:N,children:[e.jsx(y,{children:e.jsx(w,{placeholder:"Status"})}),e.jsxs(S,{children:[e.jsx(n,{value:"all",children:"Todos os Status"}),e.jsx(n,{value:"upcoming",children:"â± PrÃ³ximas"}),e.jsx(n,{value:"completed",children:"âœ“ Finalizadas"})]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",e.jsx("span",{className:"font-bold text-primary",children:p.length})," de ",e.jsx("span",{className:"font-bold",children:i.length})," corridas"]})]}),p.length>0?e.jsx("div",{className:"space-y-8",children:Object.entries(E).map(([s,a],o)=>e.jsxs("div",{className:"animate-fade-in",style:{animationDelay:`${.3+o*.1}s`},children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"h-1 w-8 bg-primary rounded-full"}),e.jsx("h2",{className:"text-2xl font-bold",children:s}),e.jsxs(V,{variant:"secondary",children:[a.length," corridas"]})]})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map((t,h)=>e.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${.4+h*.05}s`},children:e.jsx(H,{id:t.id.toString(),image:t.image,title:t.title,track:t.track,date:new Date(t.date).toLocaleDateString("pt-BR"),time:t.time,laps:t.laps||"N/A",duration:t.duration||"N/A",pilots:t.pilots,championship:t.championship,status:"upcoming"})},t.id))})]},s))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Nenhuma corrida encontrada"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Tente ajustar seus filtros"}),e.jsx(T,{variant:"outline",onClick:()=>{g(""),f("all"),N("all"),v("all")},children:"Limpar Filtros"})]})]}),e.jsx(L,{})]})};export{ue as default};
