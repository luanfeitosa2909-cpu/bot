import{j as e,C as r,a as V,b as L,e as n}from"./index-vFhVPRkb.js";import{r as d}from"./react-vendor-CoRTCUxX.js";import{B as P}from"./badge-BBQ7tjvl.js";import{a as B,b as H,c as R,d as O,T as q,P as z}from"./progress-BshIh2EM.js";import{H as T,F as D}from"./Footer-DZdvEKYE.js";import{h as G}from"./hero-racing-DRSVA6gD.js";import{C as J,M as $,A as S}from"./medal-D-lnKc5R.js";import{T as c}from"./trophy-mCA5spF7.js";import{U as K}from"./users-DeZsYfqv.js";import{T as Q}from"./trending-up-CRcRdna5.js";import"./router-vendor-BLkE0Fw5.js";import"./index-H_SoO3T8.js";import"./index-CriE2G_2.js";import"./user-C7q7mM6l.js";const oe=()=>{var h;const[o,I]=d.useState([]),[E,x]=d.useState(!0),[t,F]=d.useState(null);d.useEffect(()=>{fetch("/api/session").then(s=>s.json()).then(s=>{s.user&&F(s.user)}).catch(s=>console.error("Failed to fetch session:",s)),fetch("/api/standings").then(s=>s.json()).then(s=>{I(s),x(!1)}).catch(s=>{console.error("Failed to fetch standings:",s),x(!1)})},[]);const M=s=>{switch(s){case 1:return e.jsx(c,{className:"h-5 w-5 text-yellow-500"});case 2:return e.jsx($,{className:"h-5 w-5 text-gray-400"});case 3:return e.jsx(S,{className:"h-5 w-5 text-amber-600"});default:return e.jsx("span",{className:"font-bold text-lg",children:s})}},U=s=>{switch(s){case 1:return"bg-yellow-500";case 2:return"bg-gray-400";case 3:return"bg-amber-600";default:return"bg-muted"}};return E?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(T,{}),e.jsx("div",{className:"container py-8",children:e.jsx("div",{className:"text-center",children:"Carregando classifica√ß√µes..."})}),e.jsx(D,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(T,{}),e.jsxs("section",{className:"relative min-h-[50vh] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${G})`}}),e.jsx("div",{className:"hero-overlay absolute inset-0"}),e.jsx("div",{className:"container relative flex min-h-[50vh] items-center pt-16",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("h1",{className:"font-heading text-4xl font-black text-foreground md:text-6xl animate-fade-in",children:[e.jsx("span",{className:"text-primary",children:"CLASSIFICA√á√ïES"}),e.jsx("br",{}),e.jsx("span",{className:"text-foreground",children:"2026"})]}),e.jsx("p",{className:"mt-4 text-lg text-muted-foreground animate-fade-in",style:{animationDelay:"0.2s"},children:"Acompanhe o desempenho dos pilotos em todas as categorias do campeonato"}),e.jsx(P,{className:"mt-4 bg-primary/20 text-primary border-primary/30 animate-fade-in",style:{animationDelay:"0.3s"},children:"Temporada em andamento"})]})})]}),e.jsxs("main",{className:"container py-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary mb-2 animate-fade-in",children:"Escolha um Campeonato"}),e.jsx("p",{className:"text-muted-foreground animate-fade-in",style:{animationDelay:"0.1s"},children:"Selecione uma categoria para ver as classifica√ß√µes detalhadas"})]}),e.jsxs(B,{defaultValue:((h=o[0])==null?void 0:h.category)||"default",className:"w-full",children:[e.jsx(H,{className:"flex flex-wrap justify-center gap-4 bg-background p-4 w-full rounded-lg shadow-lg border border-border mb-8 h-auto min-h-[80px]",children:o.map((s,i)=>e.jsx(R,{value:s.category,className:"animate-fade-in px-6 py-3 text-lg font-semibold transition-all duration-300 hover:bg-primary/10 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg min-w-[200px] text-center flex-1 min-w-[200px] max-w-[300px] whitespace-nowrap h-auto",style:{animationDelay:`${i*.1}s`},children:s.category},s.category))}),o.map(s=>{var p,j,N,u,f,g,b,v,y,w,A;const i=Array.isArray(s.drivers)&&s.drivers.length>0?Math.max(...s.drivers.map(a=>a.points)):0,k=(t&&Array.isArray(s.drivers)?s.drivers.findIndex(a=>a.name===t.displayName)+1:0)===1;return e.jsxs(O,{value:s.category,className:"space-y-8",children:[e.jsxs(r,{className:"animate-fade-in",children:[e.jsx(V,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),"Informa√ß√µes do Campeonato - ",s.category]})}),e.jsxs(n,{children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:s.raceCount||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Corridas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-500",children:s.vacancies||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Vagas Dispon√≠veis"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-500",children:((p=s.registeredPilots)==null?void 0:p.length)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilotos Registrados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-500",children:Array.isArray(s.drivers)?s.drivers.length:0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilotos Ativos"})]})]}),s.description&&e.jsx("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg",children:e.jsx("p",{className:"text-sm",children:s.description})})]})]}),k&&e.jsxs("div",{className:"text-center py-8 animate-bounce",children:[e.jsx("div",{className:"text-6xl animate-pulse",children:"üéâ"}),e.jsx("h2",{className:"text-3xl font-bold text-yellow-500 mt-4",children:"PARAB√âNS CAMPE√ÉO!"}),e.jsxs("p",{className:"text-lg text-muted-foreground",children:["Voc√™ est√° liderando ",s.category,"!"]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx(r,{className:`text-center animate-fade-in ${((j=s.drivers[0])==null?void 0:j.name)===(t==null?void 0:t.displayName)?"ring-4 ring-yellow-500 shadow-2xl":""}`,style:{animationDelay:"0.1s"},children:e.jsxs(n,{className:"pt-6",children:[e.jsx(c,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4 animate-pulse"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Campe√£o"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-500",children:((N=s.drivers[0])==null?void 0:N.name)||"N/A"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[((u=s.drivers[0])==null?void 0:u.points)||0," pontos"]})]})}),e.jsx(r,{className:`text-center animate-fade-in ${((f=s.drivers[1])==null?void 0:f.name)===(t==null?void 0:t.displayName)?"ring-4 ring-gray-400 shadow-2xl":""}`,style:{animationDelay:"0.2s"},children:e.jsxs(n,{className:"pt-6",children:[e.jsx($,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Vice-campe√£o"}),e.jsx("p",{className:"text-3xl font-bold text-gray-400",children:((g=s.drivers[1])==null?void 0:g.name)||"N/A"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[((b=s.drivers[1])==null?void 0:b.points)||0," pontos"]})]})}),e.jsx(r,{className:`text-center animate-fade-in ${((v=s.drivers[2])==null?void 0:v.name)===(t==null?void 0:t.displayName)?"ring-4 ring-amber-600 shadow-2xl":""}`,style:{animationDelay:"0.3s"},children:e.jsxs(n,{className:"pt-6",children:[e.jsx(S,{className:"h-16 w-16 text-amber-600 mx-auto mb-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Terceiro lugar"}),e.jsx("p",{className:"text-3xl font-bold text-amber-600",children:((y=s.drivers[2])==null?void 0:y.name)||"N/A"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[((w=s.drivers[2])==null?void 0:w.points)||0," pontos"]})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsx(r,{className:"text-center animate-fade-in",style:{animationDelay:"0.4s"},children:e.jsxs(n,{className:"pt-6",children:[e.jsx(K,{className:"h-12 w-12 text-blue-500 mx-auto mb-2"}),e.jsx("p",{className:"text-4xl font-bold",children:Array.isArray(s.drivers)?s.drivers.length:0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilotos Ativos"})]})}),e.jsx(r,{className:"text-center animate-fade-in",style:{animationDelay:"0.5s"},children:e.jsxs(n,{className:"pt-6",children:[e.jsx(q,{className:"h-12 w-12 text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-4xl font-bold",children:((A=s.drivers[0])==null?void 0:A.points)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pontos do L√≠der"})]})}),e.jsx(r,{className:"text-center animate-fade-in",style:{animationDelay:"0.6s"},children:e.jsxs(n,{className:"pt-6",children:[e.jsx(Q,{className:"h-12 w-12 text-purple-500 mx-auto mb-2"}),e.jsx("p",{className:"text-4xl font-bold",children:Array.isArray(s.drivers)&&s.drivers.length>1?Math.max(...s.drivers.map(a=>a.points))-Math.min(...s.drivers.map(a=>a.points)):0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Diferen√ßa de Pontos"})]})}),e.jsx(r,{className:"text-center animate-fade-in",style:{animationDelay:"0.7s"},children:e.jsxs(n,{className:"pt-6",children:[e.jsx(c,{className:"h-12 w-12 text-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-4xl font-bold",children:Array.isArray(s.drivers)?s.drivers.filter(a=>a.points>0).length:0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilotos Pontuando"})]})})]}),e.jsx("div",{className:"grid gap-4",children:s.drivers.map((a,m)=>{const C=i>0?a.points/i*100:0,l=a.name===(t==null?void 0:t.displayName);return e.jsx(r,{className:`animate-fade-in hover:shadow-2xl hover:scale-[1.02] transition-all duration-500 cursor-pointer ${l?"ring-2 ring-primary shadow-xl bg-primary/5":""}`,style:{animationDelay:`${m*.05}s`},children:e.jsxs(n,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${U(m+1)} ${l?"animate-pulse":""}`,children:M(m+1)}),e.jsxs("div",{children:[e.jsxs("h3",{className:`font-semibold text-xl ${l?"text-primary":""}`,children:[a.name," ",l&&"‚≠ê"]}),a.team&&e.jsx("p",{className:"text-sm font-medium text-primary",children:a.team}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category}),e.jsxs(P,{variant:l?"default":"outline",className:"mt-1",children:[m+1,"¬∫ lugar ",l&&"- Voc√™!"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-5xl font-bold ${l?"text-primary animate-pulse":"text-primary"}`,children:a.points}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"pontos"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Progresso para o l√≠der"}),e.jsxs("span",{children:[C.toFixed(1),"%"]})]}),e.jsx(z,{value:C,className:`h-3 ${l?"bg-primary/20":""}`})]})]})},a.name)})})]},s.category)})]})]}),e.jsx(D,{})]})};export{oe as default};
